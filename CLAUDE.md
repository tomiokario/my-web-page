# 応答ルール
思考は英語で構いませんが，ユーザーへの応答は日本語にしてください

# 開発ルール

## セキュリティ

### 機密ファイル
- .env ファイル、APIキー、トークン、認証情報を含むファイルの読み取りと変更を禁止
- 機密ファイルを絶対にコミットしない
- シークレット情報は環境変数を使用する
- ログや出力に認証情報を含めない

## 開発フロー
- **ドキュメント駆動開発 (DocDD)** を基本とし、人間はドキュメントの作成とレビューに責任を持つ。実装はテスト駆動開発 (TDD) に従う。
- 変更前にテストが通ることを確認し、変更後も全テストが通ることを確認する。

## テスト規約
- テストファイルは `src/__tests__` ディレクトリに配置し、`.test.jsx` または `.test.js` の拡張子を使用
- AAA（Arrange-Act-Assert）パターンに従い、ユーザー視点でテストを書く
- 実装の詳細ではなく、動作をテストし、モックは必要最小限に留める
- テストは独立させ、他のテストに依存しないようにする
- 単体テストと統合テストを適切に使い分ける

## コーディング規約
- ESLint/Prettier の標準的なルールに準拠
- Reactの関数コンポーネントを使用し、Mantineコンポーネントライブラリを活用
- コンポーネントは単一責任の原則に従い、データ取得と表示の関心を分離する
- パフォーマンス最適化には `useMemo`、`useCallback`、`React.memo` を適切に使用
- ファイル命名規則: コンポーネントは `PascalCase.jsx`、フックは `useHookName.js`、ユーティリティは `camelCase.js`

## データ管理
- 出版物データは CSV から JSON への変換プロセスを通じて管理
- CSVファイルは元データであるため直接編集せず、更新は Notionでの操作をユーザーに依頼する
- JSON変換には `ts-node scripts/convertPublications.ts` を使用

## 多言語対応
- `LanguageContext` と `useLanguage` フックを使用して言語状態を管理
- `locales` ディレクトリの言語ファイル（ja.js, en.js）で翻訳を管理
- マークダウンコンテンツは `public/markdown/{言語コード}/` ディレクトリで言語別に管理

## コンテンツ管理
- マークダウンコンテンツは `public/markdown` ディレクトリで管理
- コンテンツ更新後は開発サーバーで表示を確認してからコミット
- 出版物データ更新後は `ts-node scripts/convertPublications.ts` を実行してJSONを生成

## ドキュメント
- コードの変更に伴い、必要に応じてドキュメントを更新
- 新機能の追加時は、対応するテストとドキュメントを作成
- 複雑なロジックには、コメントでその意図と動作を説明
